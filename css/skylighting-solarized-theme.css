:root {
  /* BACKGROUNDS & BASE (Solarized Base) */
  --solarized-base03:  #002b36;
  --solarized-base02:  #073642;
  --solarized-base01:  #52676f; /* Darkened for accessibility */
  --solarized-base00:  #495d63; /* Darkened for accessibility */
  --solarized-base0:   #839496;
  --solarized-base1:   #93a1a1;
  --solarized-base2:   #eee8d5;
  --solarized-base3:   #ffffff;

  /* ACCESSIBLE COLORS (Light Mode - Darker variants) */
  /* Targets 4.5:1 contrast against #fdf6e3 */
  --solarized-yellow:  #816000; 
  --solarized-orange:  #b33f00;
  --solarized-red:     #d11c19;
  --solarized-magenta: #bd216f;
  --solarized-violet:  #5b60b0;
  --solarized-blue:    #1b6395;
  --solarized-cyan:    #007a72;
  --solarized-green:   #4e5a00;
}

@media (prefers-color-scheme: dark) {
  :root {
    --solarized-base03: #fdf6e3;
    --solarized-base02: #eee8d5;
    --solarized-base01: #93a1a1;
    --solarized-base00: #839496;
    --solarized-base0:  #657b83;
    --solarized-base1:  #586e75;
    --solarized-base2:  #073642;
    --solarized-base3:  #000036;

    /* ACCESSIBLE COLORS (Dark Mode - Lighter variants) */
    /* Targets 4.5:1 contrast against #002b36 */
    --solarized-yellow:  #c49d21;
    --solarized-orange:  #e05f2c;
    --solarized-red:     #ff5e5b;
    --solarized-magenta: #f260a4;
    --solarized-violet:  #9fa4e8;
    --solarized-blue:    #4ea1db;
    --solarized-cyan:    #37c3b8;
    --solarized-green:   #a4b42b;
  }
}

/* BASE STYLING */
pre, pre.numberSource {
  background: var(--solarized-base3);
  color: var(--solarized-base02); /* High contrast primary text */
  --color-code-highlight-bg: var(--solarized-base2);
}

pre code { color: var(--solarized-base02); }

/* LINE NUMBERS */
pre.numberSource > code.sourceCode > span > a:first-child::before {
  color: var(--solarized-base01);
}

/* TOKEN STYLING */
code span.kw { color: var(--solarized-green);  font-weight: bold; } /* Keyword - Added Bold for extra clarity */
code span.dt { color: var(--solarized-yellow); } /* DataType */
code span.dv, code span.bn, code span.fl { color: var(--solarized-cyan); } /* Numbers */
code span.ch, code span.st, code span.vs { color: var(--solarized-cyan); } /* Strings */
code span.co { color: var(--solarized-base01); font-style: italic; } /* Comment - Darker than original base1 */
code span.ot { color: var(--solarized-blue); } 
code span.al { color: var(--solarized-red);    font-weight: bold; } /* Alert */
code span.fu { color: var(--solarized-blue); } /* Function */
code span.er { color: var(--solarized-red);    text-decoration: underline; } /* Error */
code span.wa { color: var(--solarized-orange); font-style: italic; } /* Warning */
code span.cn { color: var(--solarized-cyan); } /* Constant */
code span.sc { color: var(--solarized-magenta); } /* SpecialChar */
code span.va { color: var(--solarized-blue); } /* Variable */
code span.cf { color: var(--solarized-green);  font-weight: bold; } /* ControlFlow */
code span.op { color: var(--solarized-green); } /* Operator */
code span.pp { color: var(--solarized-orange); } /* Preprocessor */
code span.do { color: var(--solarized-base01); font-style: italic; } /* Documentation */

/* PANDOC DIFF MODE ACCESSIBILITY */
code.diff span.st { color: var(--solarized-red); }    /* - lines */
code.diff span.va { color: var(--solarized-green); }  /* + lines */