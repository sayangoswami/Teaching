
<!--
author:   Sayan Goswami
email:	sgoswami@smcm.edu
version:  0.1.0
language: en
narrator: US English Female

comment:  Advanced Loops

import: https://raw.githubusercontent.com/liaScript/mermaid_template/master/README.md

link: https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap

link: https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap

link: https://cdn.jsdelivr.net/gh/sayangoswami/Teaching@main/LiaCourses/theme.css

import: https://raw.githubusercontent.com/LiaScript/CodeRunner/master/README.md

-->


# Nested Loops, `do-while`, and Loop Control

---

### **Slide 2: Today's Agenda üéØ**

- **Part 1:** Nested Loops (A loop inside a loop)
    
- **Part 2:** The `do-while` Loop (The "third" loop type)
    
- **Part 3:** Loop Control Statements (`break` and `continue`)
    
- **Part 4:** Common Pitfalls: The "Off-by-One" Error
    
- **Part 5:** Practice Time!
    

---

### **Slide 3: Part 1: Nested Loops**

So far, we've used single loops. A **nested loop** is a loop that exists _inside_ the body of another loop.

This is the key to working with 2D data, like grids, tables, and images.

The Concept:

For every one time the outer loop runs, the inner loop runs to full completion.

Java

```
for (int i = 0; i < 3; i++) {
    // This code runs 3 times (i=0, i=1, i=2)
    
    for (int j = 0; j < 2; j++) {
        // This code runs 3 * 2 = 6 times!
        // (i=0, j=0), (i=0, j=1)
        // (i=1, j=0), (i=1, j=1)
        // (i=2, j=0), (i=2, j=1)
    }
}
```

---

### **Slide 4: The Clock Analogy ‚è∞**

The most famous analogy for a nested loop is a **clock**.

- The **Outer Loop** is the **Hour Hand**.
    
- The **Inner Loop** is the **Minute Hand**.
    

The outer loop (hour hand) ticks once.

Then, the inner loop (minute hand) must complete its entire cycle (all 60 minutes).

...before the outer loop ticks again.

Code snippet

```
graph TD
    A[Outer Loop: i=0] --> B{Inner Loop: j=0};
    B --> C{Inner Loop: j=1};
    C --> D{Inner Loop: j=2};
    D --> E[Outer Loop: i=1];
    E --> F{Inner Loop: j=0};
    F --> G{Inner Loop: j=1};
    G --> H{Inner Loop: j=2};
    H --> I[Outer Loop: i=2];
    I --> ...
    
    style A fill:#cff,stroke:#333,stroke-width:2px
    style E fill:#cff,stroke:#333,stroke-width:2px
    style I fill:#cff,stroke:#333,stroke-width:2px
```

---

### **Slide 5: Nested Loop Example: The Grid**

The "Hello, World!" of nested loops is printing a grid. The outer loop controls the **rows**, and the inner loop controls the **columns**.

Java

```
// We want 3 rows and 4 columns
int rows = 3;
int cols = 4;

for (int i = 0; i < rows; i++) {
    // This loop body runs 3 times (once per row)
    
    for (int j = 0; j < cols; j++) {
        // This loop prints one row
        System.out.print("* ");
    }
    
    // At the end of a row, print a newline
    // to move to the next one!
    System.out.println();
}
```

**Output:**

```
* * * * 
* * * * 
* * * * 
```

---

### **Slide 6: Tracing the Grid**

Let's trace the execution. `i` is the row, `j` is the column.

|**i**|**j**|**Output**|
|---|---|---|
|0|0|`*`|
||1|`*`|
||2|`*`|
||3|`*`|
||(loop ends)|(prints newline)|
|1|0|`*`|
||1|`*`|
||2|`*`|
||3|`*`|
||(loop ends)|(prints newline)|
|2|0|`*`|
||1|`*`|
||2|`*`|
||3|`*`|
||(loop ends)|(prints newline)|

---

### **Slide 7: Nested Loop Example: The Triangle**

A common pattern is when the **inner loop's condition** depends on the **outer loop's variable**.

Let's print a triangle. The number of stars in each row `j` depends on which row `i` we are on.

Java

```
int size = 5;

// Outer loop: controls the row number (1, 2, 3, 4, 5)
for (int i = 1; i <= size; i++) {
    
    // Inner loop: prints 'i' stars
    // Row 1 (i=1): prints 1 star (j=1)
    // Row 2 (i=2): prints 2 stars (j=1, j=2)
    // ...
    for (int j = 1; j <= i; j++) {
        System.out.print("*");
    }
    System.out.println();
}
```

**Output:**

```
*
**
***
****
*****
```

---

### **Slide 8: Part 2: The `do-while` Loop**

We know `while` and `for`. The final loop type is `do-while`.

- A `while` loop checks its condition **at the start**.
    
    - "Check-then-run." It might run **0 times**.
        
- A `do-while` loop checks its condition **at the end**.
    
    - "Run-then-check." It is _guaranteed_ to run **at least once**.
        

---

### **Slide 9: `do-while` Syntax & Flowchart**

Notice the syntax: the `do` keyword, the body, and the `while` check _after_ the body. **Don't forget the semicolon!**

Java

```
// Syntax:
do {
    // This code block
    // is guaranteed
    // to run at least 1 time.
    
} while (condition);
```

**Flowchart:**

Code snippet

```
graph TD
    A[Start] --> B[Execute Loop Body];
    B --> C{Check Condition};
    C -- true --> B;
    C -- false --> D[End];

    style B fill:#ccf,stroke:#333,stroke-width:2px
```

Compare to a `while` loop, where the `Check Condition` diamond comes _before_ the `Execute Loop Body` box.

---

### **Slide 10: `do-while` Example: The "Play Again?" Menu**

When do you _need_ to run code at least once?

A classic example is a "Do you want to play again?" menu. You have to play the game (or run the code) _at least once_ before you can ask the user if they want to do it _again_.

Java

```
Scanner input = new Scanner(System.in);
String playAgain;

do {
    // 1. Run the main part of your program
    System.out.println("...Playing the game...");
    System.out.println("...Game over!...");
    
    // 2. Ask the user if they want to repeat
    System.out.print("Play again? (y/n): ");
    playAgain = input.next();

} while (playAgain.equals("y")); // 3. Check condition at the end

System.out.println("Thanks for playing!");
```

---

### **Slide 11: Part 3: Loop Control Statements**

`break` and `continue` are keywords that let you "break the rules" of a loop.

They give you manual control over the loop's execution.

- `break`: **Exits the loop entirely.**
    
    - "I'm done. Get me out of here."
        
- `continue`: **Skips the rest of the current iteration** and jumps to the next one.
    
    - "I'm done with _this one_. Move on to the next."
        

---

### **Slide 12: `break`: The "Emergency Exit" üö™**

The `break` statement immediately terminates the **innermost** loop it's in.

**Use Case:** Searching. Why keep looping after you've found what you're looking for?

Java

```
// Problem: Find the *first* multiple of 7 in a list of numbers.
int[] numbers = {1, 5, 12, 19, 21, 30};
int found = 0; // Will store the number we find

for (int num : numbers) { // A "for-each" loop
    System.out.println("Checking: " + num);
    if (num % 7 == 0) {
        found = num;
        break; // Found it! Stop looping.
    }
}

System.out.println("The first multiple of 7 is: " + found);
```

**Output:**

```
Checking: 1
Checking: 5
Checking: 12
Checking: 19
Checking: 21
The first multiple of 7 is: 21
```

(Notice it never checks 30. `break` saved us time!)

---

### **Slide 13: `continue`: The "Skip This One" ‚è≠Ô∏è**

The `continue` statement skips the rest of the code _in the current iteration_ and moves to the next iteration.

**Use Case:** Skipping invalid or uninteresting items.

Java

```
// Problem: Print all numbers from 1 to 10,
// but skip the ones divisible by 3.

for (int i = 1; i <= 10; i++) {
    
    if (i % 3 == 0) {
        continue; // Skip the rest of this iteration.
                   // Go directly back to the `i++`
    }
    
    // This code is skipped if 'continue' runs
    System.out.print(i + " ");
}
```

**Output:**

```
1 2 4 5 7 8 10 
```

---

### **Slide 14: Part 4: Common Pitfall: Off-by-One Errors**

This is the **most common bug** in all of programming.

An "Off-by-One" error is when your loop runs one _too many_ or one _too few_ times.

It's almost always a bug in your **condition**:

- Using `<` when you meant `<=`
    
- Using `>` when you meant `>=`
    

Or your **initialization**:

- Starting at `i = 1` when you meant `i = 0`
    

---

### **Slide 15: How to Fix Off-by-One Errors**

**Question:** "I need to loop 10 times." How do I write the `for` loop?

Option 1: The "0-indexed" way (MOST COMMON)

Starts at 0, uses <

Java

```
for (int i = 0; i < 10; i++) {
    // Runs for i = 0, 1, 2, 3, 4, 5, 6, 7, 8, 9
    // (That's 10 iterations)
}
```

Option 2: The "1-indexed" way

Starts at 1, uses <=

Java

```
for (int i = 1; i <= 10; i++) {
    // Runs for i = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
    // (Also 10 iterations)
}
```

**Think:** "Do I want to include the last number?"

- "Print numbers 1 **to** 10" -> `i = 1; i <= 10`
    
- "Loop 10 **times**" -> `i = 0; i < 10`
    

When in doubt, "run" the code in your head for the first (e.g., `i=0`) and last (e.g., `i=9`) iterations.

---

### **Slide 16: Summary: What We Learned Today**

- **Nested Loops:** A loop-in-a-loop, perfect for 2D grids and patterns. The outer loop ticks, the inner loop "completes."
    
- **`do-while` Loop:** The "run-then-check" loop. It is **guaranteed** to run at least once.
    
- **`break`:** The "emergency exit." Kills the loop immediately.
    
- **`continue`:** The "skip button." Skips the current iteration and moves to the next.
    
- **Off-by-One Errors:** The most common bug. Double-check your `<` vs. `<=` conditions!
    

---

### **Slide 17: Questions?**

... or let's get to the practice problems!



### Pair 1: Nested `for` Loops (Grids)

11A: My Problem

Ask the user for a number of rows and a number of cols. Write a nested for loop to print a solid grid of asterisks (*) with those dimensions.

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```
```

11B: Your Problem

Ask the user for a single number size. Write a nested for loop to print a hollow square of asterisks (*) with that size.

(Hint: You'll need an if statement inside the inner loop to decide whether to print a * or a space ).

_Example for size = 5:_

```txt
*****
* *
* *
* *
*****
```

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

---

### Pair 2: Nested `for` Loops (Triangles)

12A: My Problem

Ask the user for a number n. Write a nested loop to print a right-angle triangle of stars that is n rows high.

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

_Example for n = 4:_

```txt
*
**
***
****
```

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

12B: Your Problem

Ask the user for a number n. Write a nested loop to print an inverted right-angle triangle of stars that starts with n stars.

(Hint: The outer loop can count down, or the inner loop's condition can be based on n - i).

_Example for n = 4:_

```txt
****
***
**
*
```

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

---

### Pair 3: "Guess the Number" Game

13A: My Problem

Write a "Guess the Number" game.

1. Hard-code a `secretNumber` (e.g., `int secretNumber = 42;`).
    
2. Use a `while` loop to repeatedly ask the user for a guess.
    
3. Inside the loop, tell the user "Too high!" or "Too low!"
    
4. The loop stops when the user guesses correctly. Print "You got it!"
    

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

13B: Your Problem

Modify the "Guess the Number" game to give the user a maximum of 5 tries.

1. Use a `while` loop that stops if the guess is correct **OR** if the number of tries is 5.
    
2. If they guess correctly, print "You got it!"
    
3. If the loop finishes because they ran out of tries, print "You lose! The number was 42."
    
    (Hint: You'll need a compound condition in your while loop).

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```    

---

### Pair 4: Complex String Accumulator

14A: My Problem

Ask the user for a string. Write a loop that creates and prints a new string containing only the vowels (a, e, i, o, u) from the original string.

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

14B: Your Problem

Ask the user for a string. Write a loop that creates and prints a new string where every vowel is replaced by an asterisk (*) but all other characters (consonants, spaces, etc.) are kept.

Example:

Input: "hello world"

Output: "h*ll* w*rld"

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

---

### Pair 5: Math Simulation (Fibonacci)

15A: My Problem

Ask the user for a number n. Write a loop to print the first n numbers of the Fibonacci sequence. This sequence starts with 0 and 1, and each new number is the sum of the two before it (0, 1, 1, 2, 3, 5, 8...).

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```

15B: Your Problem

Write a while loop to find and print the first Fibonacci number that is greater than 1000.

(Hint: You'll use the same update logic as the instructor problem, but your while loop's condition will check if the current number is $\le 1000$).

```java
public class Main {
    public static void main(String[] args) {
        // Your code below ...
    }
}
```
